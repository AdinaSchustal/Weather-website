{"version":3,"sources":["services/httpService.js","services/userService.js","Forms/Input.jsx","Forms/Form.jsx","redux/actions.js","Forms/Register.jsx","Forms/Login.jsx","Components/Navbar.jsx","services/weatherService.js","Components/Weather.jsx","redux/userReducer.js","redux/store.js","Components/WeatherHistory.jsx","Components/Home.jsx","App.js","reportWebVitals.js","index.js"],"names":["get","axios","post","put","delete","register","user","http","apiUrl","name","email","password","login","Input","label","error","rest","className","htmlFor","id","Form","state","data","errors","validateProperty","value","obj","schema","Joi","validate","details","message","abortEarly","item","path","handleSubmit","e","preventDefault","setState","doSubmit","handleChange","input","currentTarget","errorMessage","disabled","this","type","placeholder","onChange","Component","setUserName","payload","connect","dispatch","props","string","required","min","a","userService","jwt","localStorage","setItem","history","push","response","status","username","onSubmit","renderInput","renderButton","alert","to","userReducer","onClick","removeItem","getWeather","city","headers","authorization","getItem","useState","temperature","setTemperature","description","setDescription","setName","country","setCountry","icon","setIcon","unit","setUnit","celsius","setCelsius","useEffect","getWeatherData","weather","temp","desc","Math","floor","src","process","height","alt","target","produce","action","reducer","combineReducers","store","createStore","window","WeatherHistory","setHistory","getHistoryData","reverse","map","w","data-toggle","href","_id","date","Date","toLocaleDateString","year","month","day","hour","minute","Home","App","component","Register","Login","Weather","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","console","log","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1820f9e8.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport default {\r\n  get: axios.get,\r\n  post: axios.post,\r\n  put: axios.put,\r\n  delete: axios.delete,\r\n};\r\n","import { apiUrl } from \"../config.json\";\r\nimport http from \"./httpService\";\r\n\r\nexport function register(user) {\r\n  return http.post(apiUrl + \"/newUser\", {\r\n    name: user.name,\r\n    email: user.email,\r\n    password: user.password,\r\n  });\r\n}\r\n\r\nexport function login(user) {\r\n  return http.post(apiUrl + \"/login\", {\r\n    email: user.email,\r\n    password: user.password,\r\n  });\r\n}\r\n","import React from \"react\";\r\n\r\nfunction Input({ name, label, error, ...rest }) {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={name}>{label}</label>\r\n      <input {...rest} name={name} id={name} className=\"form-control\" />\r\n      {error && <div className=\"alert alert-dark\">{error}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Input;\r\n","import React, { Component } from \"react\";\r\nimport Joi from \"joi-browser\";\r\nimport Input from \"./Input\";\r\n\r\nclass Form extends Component {\r\n  state = { data: {}, errors: {} };\r\n\r\n  validateProperty = ({ name, value }) => {\r\n    const obj = { [name]: value };\r\n    const schema = { [name]: this.schema[name] };\r\n    const { error } = Joi.validate(obj, schema);\r\n    return error ? error.details[0].message : null;\r\n  };\r\n\r\n  validate = () => {\r\n    const options = { abortEarly: false };\r\n    const { error } = Joi.validate(this.state.data, this.schema, options);\r\n    if (!error) return null;\r\n\r\n    const errors = {};\r\n    for (let item of error.details) errors[item.path[0]] = item.message;\r\n    return errors;\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const errors = this.validate();\r\n\r\n    this.setState({ errors: errors || {} });\r\n    if (errors) return;\r\n\r\n    this.doSubmit();\r\n  };\r\n\r\n  handleChange = ({ currentTarget: input }) => {\r\n    const errors = { ...this.state.errors };\r\n    const errorMessage = this.validateProperty(input);\r\n    if (errorMessage) errors[input.name] = errorMessage;\r\n    else delete errors[input.name];\r\n\r\n    const data = { ...this.state.data };\r\n    data[input.name] = input.value;\r\n    this.setState({ data, errors });\r\n  };\r\n\r\n  renderButton(label) {\r\n    return (\r\n      <button\r\n        disabled={this.validate()}\r\n        className=\"btn btn-dark btn-lg btn-block\"\r\n      >\r\n        {label}\r\n      </button>\r\n    );\r\n  }\r\n\r\n  renderInput(name, label, type = \"text\") {\r\n    const { data, errors } = this.state;\r\n    return (\r\n      <Input\r\n        type={type}\r\n        name={name}\r\n        placeholder={`Enter ${name}`}\r\n        label={label}\r\n        value={data[name]}\r\n        onChange={this.handleChange}\r\n        error={errors[name]}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Form;\r\n","export function setUserName(name) {\r\n  return { type: \"SET_USER_NAME\", payload: name };\r\n}\r\n","import Joi from \"joi-browser\";\r\nimport React from \"react\"; //, { Component }\r\nimport * as userService from \"../services/userService\";\r\nimport Form from \"./Form\";\r\nimport { connect } from \"react-redux\";\r\nimport { setUserName } from \"../redux/actions\";\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  setUserName: (name) => dispatch(setUserName(name)),\r\n});\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(\r\n  class RegisterForm extends Form {\r\n    setUserName = this.props.setUserName;\r\n    state = { data: { name: \"\", email: \"\", password: \"\" }, errors: {} };\r\n\r\n    schema = {\r\n      name: Joi.string().required().label(\"Name\"),\r\n      email: Joi.string().email().required().label(\"email\"),\r\n      password: Joi.string().min(5).required().label(\"Password\"),\r\n    };\r\n\r\n    doSubmit = async () => {\r\n      try {\r\n        const { data } = await userService.register(this.state.data);\r\n        const { jwt, name } = data;\r\n        if (jwt) this.setUserName(name);\r\n        localStorage.setItem(\"token\", jwt);\r\n        this.props.history.push(\"/weather\");\r\n      } catch (ex) {\r\n        if (ex.response && ex.response.status === 400) {\r\n          const errors = { ...this.state.errors };\r\n          errors.username = ex.response.data;\r\n          this.setState({ errors });\r\n        }\r\n      }\r\n    };\r\n\r\n    render() {\r\n      return (\r\n        <div>\r\n          <br />\r\n          <form className=\"inner\" onSubmit={this.handleSubmit}>\r\n            <h3>Register</h3>\r\n            {this.renderInput(\"name\", \"Name\")}\r\n            {this.renderInput(\"email\", \"Email\")}\r\n            {this.renderInput(\"password\", \"Password\", \"password\")}\r\n            {this.renderButton(\"Register\")}\r\n          </form>\r\n          <br />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n);\r\n","import React from \"react\";\r\nimport Joi from \"joi-browser\";\r\nimport * as userService from \"../services/userService\";\r\nimport Form from \"./Form\";\r\nimport { connect } from \"react-redux\";\r\nimport { setUserName } from \"../redux/actions\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  setUserName: (name) => dispatch(setUserName(name)),\r\n});\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(\r\n  class Login extends Form {\r\n    setUserName = this.props.setUserName;\r\n    state = { data: { email: \"\", password: \"\" }, errors: {} };\r\n\r\n    schema = {\r\n      email: Joi.string().email().required().label(\"email\"),\r\n      password: Joi.string().min(5).required().label(\"Password\"),\r\n    };\r\n\r\n    doSubmit = async () => {\r\n      try {\r\n        const { data } = await userService.login(this.state.data);\r\n        const { jwt, name } = data;\r\n        if (jwt) this.setUserName(name);\r\n        localStorage.setItem(\"token\", jwt);\r\n        this.props.history.push(\"/weather\");\r\n      } catch (err) {\r\n        alert(\"wrong password!\");\r\n        const user = { ...this.state.data };\r\n        user.email = \"\";\r\n        user.password = \"\";\r\n        this.setState({ data: user });\r\n      }\r\n    };\r\n\r\n    render() {\r\n      return (\r\n        <div className=\"login\">\r\n          <br />\r\n          <form className=\"inner\" onSubmit={this.handleSubmit}>\r\n            <h3>Login</h3>\r\n            {this.renderInput(\"email\", \"Email\")}\r\n            {this.renderInput(\"password\", \"Password\", \"password\")}\r\n            {this.renderButton(\"Login\")}\r\n            <Link\r\n              className=\"ms-auto p-2 bd-highlight forgot-password text-right\"\r\n              to=\"/register\"\r\n            >\r\n              {\" \"}\r\n              Register\r\n            </Link>\r\n          </form>\r\n          <br />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n);\r\n{\r\n  /* <form className=\"inner\">\r\n            <h3>Log in</h3>\r\n\r\n            <div className=\"form-group \">\r\n              <label>Email</label>\r\n              <input\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                placeholder=\"Enter email\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label>Password</label>\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                placeholder=\"Enter password\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <div className=\"custom-control custom-checkbox\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"custom-control-input\"\r\n                  id=\"customCheck1\"\r\n                />\r\n                <label className=\"custom-control-label\" htmlFor=\"customCheck1\">\r\n                  Remember me\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            <button type=\"submit\" className=\"btn btn-dark btn-lg btn-block\">\r\n              Sign in\r\n            </button>\r\n            <p className=\"forgot-password text-right\">\r\n              Forgot <a href=\"#\">password?</a>\r\n            </p>\r\n          </form> */\r\n}\r\n","import React from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { setUserName } from \"../redux/actions\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    name: state.userReducer.user.name,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  setUserName: (name) => dispatch(setUserName(name)),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(function Navbar({ name, setUserName }) {\r\n  const logOut = () => {\r\n    localStorage.removeItem(\"token\");\r\n    setUserName(null);\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-sm navbar-light bg-light\">\r\n      <div className=\"navbar-nav d-flex flex-row mb-1\">\r\n        {!name && (\r\n          <>\r\n            {\" \"}\r\n            <Link className=\"navbar-brand\" to=\"/\">\r\n              Weather Forcast\r\n            </Link>\r\n            <NavLink className=\"nav-item nav-link\" to=\"/login\">\r\n              Login\r\n            </NavLink>{\" \"}\r\n          </>\r\n        )}\r\n        {name && (\r\n          <>\r\n            <div className=\"navbar-brand\">{`Hello ${name}!  `}</div>\r\n            <Link className=\"navbar-brand\" to=\"/weather\">\r\n              Weather Forcast\r\n            </Link>\r\n            <NavLink className=\"nav-item nav-link\" to=\"/history\">\r\n              Browse History\r\n            </NavLink>\r\n            <NavLink className=\"nav-item nav-link\" onClick={logOut} to=\"/login\">\r\n              Log out\r\n            </NavLink>\r\n            <div className=\"navbar-brand m-1\"></div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </nav>\r\n  );\r\n});\r\n","import { apiUrl } from \"../config.json\";\r\nimport http from \"./httpService\";\r\n\r\nexport function getWeather(city) {\r\n  return http.get(`${apiUrl}/getWeather/${city}`, {\r\n    headers: {\r\n      authorization: localStorage.getItem(\"token\"),\r\n    },\r\n  });\r\n}\r\n\r\nexport function getHistory() {\r\n  return http.get(`${apiUrl}/getWeatherHistory`, {\r\n    headers: {\r\n      authorization: localStorage.getItem(\"token\"),\r\n    },\r\n  });\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { getWeather } from \"../services/weatherService\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.userReducer.user,\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  null\r\n)(function Weather({ user }) {\r\n  const [temperature, setTemperature] = useState(\"-\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [country, setCountry] = useState(\"\");\r\n  const [icon, setIcon] = useState(\"unknown\");\r\n  const [unit, setUnit] = useState(\"C\");\r\n  const [celsius, setCelsius] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setName(\"\");\r\n  }, []);\r\n\r\n  const getWeatherData = async () => {\r\n    const city = name;\r\n    try {\r\n      const { data } = await getWeather(city);\r\n      const { weather } = data;\r\n      const { name, country, temp, desc, icon } = weather;\r\n      setTemperature(Math.floor(temp - 273));\r\n      setDescription(desc);\r\n      setName(name);\r\n      setCountry(country);\r\n      setIcon(icon);\r\n    } catch (err) {\r\n      alert(\"city not found!\");\r\n      setName(\"\");\r\n      setIcon(\"unknown\");\r\n      setCountry(\"\");\r\n      setDescription(\"\");\r\n      setTemperature(\"-\");\r\n    }\r\n  };\r\n\r\n  const celsiusToFahrenheit = () => {\r\n    if (!celsius) {\r\n      setCelsius(true);\r\n      setUnit(\"C\");\r\n      setTemperature(Math.floor(((temperature - 32) * 5) / 9));\r\n    } else {\r\n      setTemperature(Math.floor((temperature * 9) / 5 + 32));\r\n      setCelsius(false);\r\n      setUnit(\"F\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      Weather <br />\r\n      <img\r\n        src={`${process.env.PUBLIC_URL}/icons2/${icon}.png`}\r\n        height=\"80px\"\r\n        alt=\"\"\r\n      />\r\n      <br />\r\n      {\r\n        <div onClick={() => celsiusToFahrenheit()}>\r\n          {temperature}°{unit}\r\n        </div>\r\n      }\r\n      <br />\r\n      {description}\r\n      <br />\r\n      {`${name}, ${country}`}\r\n      <br />\r\n      <input\r\n        className=\"cen w-40 my-2\"\r\n        placeholder=\"search city\"\r\n        type=\"text\"\r\n        value={name}\r\n        onChange={(e) => setName(e.target.value)}\r\n      ></input>\r\n      <br />\r\n      <button className=\"btn btn-primary mb-2\" onClick={getWeatherData}>\r\n        GET\r\n      </button>\r\n    </>\r\n  );\r\n});\r\n","import { produce } from \"immer\";\r\n\r\nconst initialState = {\r\n  user: {\r\n    name: null,\r\n  },\r\n};\r\n\r\nexport default produce((state, action) => {\r\n  if (action.type === \"SET_USER_NAME\") state.user.name = action.payload;\r\n  else return state;\r\n}, initialState);\r\n","import { combineReducers, createStore } from \"redux\";\r\nimport userReducer from \"./userReducer\";\r\n\r\nconst reducer = combineReducers({ userReducer });\r\nconst store = createStore(reducer);\r\nwindow.store = store;\r\nexport default store;\r\n","import { getHistory } from \"../services/weatherService\";\r\nimport React, { useState } from \"react\";\r\n\r\nfunction WeatherHistory(props) {\r\n  const [history, setHistory] = useState([]);\r\n\r\n  const getHistoryData = async () => {\r\n    const { data } = await getHistory();\r\n    data.reverse();\r\n    setHistory(data);\r\n  };\r\n\r\n  const formatDate = (string) => {\r\n    var options = {\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n      hour: \"numeric\",\r\n      minute: \"numeric\",\r\n    };\r\n    return new Date(string).toLocaleDateString([], options);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <br />\r\n      <div>\r\n        <button className=\"btn btn-primary\" onClick={getHistoryData}>\r\n          Get History\r\n        </button>\r\n        <ul>\r\n          {history.reverse().map((w) => (\r\n            <li key={w._id}>\r\n              <a data-toggle=\"collapse\" href={`#${w._id}`}>\r\n                {w.name}\r\n              </a>\r\n\r\n              <div id={`${w._id}`} className=\"collapse in\">\r\n                {`${w.desc} ${Math.floor(w.temp - 273)}°C on ${formatDate(\r\n                  w.date\r\n                )}`}\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n      <br />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default WeatherHistory;\r\n","import React from \"react\";\r\n\r\nfunction Home(props) {\r\n  return (\r\n    <>\r\n      {\" \"}\r\n      <br /> <h1>Welcome to the Weather App</h1>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import \"./App.css\";\nimport Register from \"./Forms/Register\";\nimport Login from \"./Forms/Login\";\nimport Navbar from \"./Components/Navbar\";\nimport Weather from \"./Components/Weather\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport WeatherHistory from \"./Components/WeatherHistory\";\nimport Home from \"./Components/Home\";\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Navbar />\n      <Switch>\n        <Route path=\"/register\" component={Register} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/history\" component={WeatherHistory} />\n        <Route path=\"/weather\" component={Weather} />\n        <Route path=\"/\" component={Home} />\n      </Switch>\n    </Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nconsole.log(process.env);\n\nReactDOM.render(\n  <BrowserRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}